---
- name: local-install
  hosts: localhost
  become: true
  gather_facts: true
  connection: local

  tasks:
    - name: neovim
      block:
      - name: get neovim app-image
        ansible.builtin.get_url:
          url: https://github.com/neovim/neovim/releases/latest/download/nvim.appimage
          dest: /usr/local/bin/neovim.appimage
          mode: '0755'

      - name: Create a symbolic link nvim
        ansible.builtin.file:
          src: /usr/local/bin/neovim.appimage
          dest: /usr/local/bin/nvim
          owner: root
          group: root
          state: link
      tags:
        - neovim
        - nvim
